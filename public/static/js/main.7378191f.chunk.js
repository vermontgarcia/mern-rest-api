(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(57)},31:function(e,t,n){},33:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),l=n.n(r),i=(n(31),n(6)),s=n(7),c=n(9),u=n(8),h=n(10),m=(n(33),n(60)),p=n(58),g=function(e){var t=e.handleChange,n=e.title,a=e.type,r=e.name;return o.a.createElement("div",{className:"form-field"},o.a.createElement("label",{className:"label"},n,o.a.createElement("input",{className:"input",type:a,name:r,onChange:t})))},d=function(e){var t=e.className,n=e.name,a=e.type;return o.a.createElement("button",{className:t,type:a},n)},f=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:this.props.handleLogin},o.a.createElement(g,{title:"Email:",type:"email",name:"email",handleChange:this.props.handleChange}),o.a.createElement(g,{title:"Password:",type:"password",name:"password",handleChange:this.props.handleChange}),o.a.createElement(d,{className:"form-button button",type:"submit",name:"Log in"})))}}]),t}(a.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Signup"),o.a.createElement("form",{onSubmit:this.props.handleSignup},o.a.createElement(g,{title:"Name:",type:"text",name:"name",handleChange:this.props.handleChange}),o.a.createElement(g,{title:"Email:",type:"email",name:"email",handleChange:this.props.handleChange}),o.a.createElement(g,{title:"Password:",type:"password",name:"password",handleChange:this.props.handleChange}),o.a.createElement(g,{title:"Confirm Password:",type:"password",name:"confirmPassword",handleChange:this.props.handleChange}),o.a.createElement(d,{className:"form-button button",type:"submit",name:"Sign up"})))}}]),t}(a.Component),b=n(11),y=n.n(b),v="http://localhost:3500/api",C=function(e,t){y.a.post("".concat(v,"/auth/signup"),e).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),alert(e.data.msg),t.push("/")}).catch(function(e){alert(e.response.data.msg)})},O=function(e,t){y.a.post("".concat(v,"/auth/login"),e).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),alert(e.data.msg),t.push("/")}).catch(function(e){alert(e.response.data.msg)})},j=function(e){localStorage.clear(),e.push("/login")},w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("token")?function(e){var t=localStorage.getItem("token");y.a.get("".concat(v,"/auth/loggedin"),{headers:{"x-access-token":t}}).then(function(e){}).catch(function(t){alert(t.response.data.msg),e.push("/login")})}(this.props.history):this.props.history.push("/login")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Profile"),o.a.createElement("p",{onClick:this.props.handleLogout},"Logout"))}}]),t}(a.Component),S=function(){return o.a.createElement("h1",null,"Estas perdido mijo")},k=function(e){var t=e.state,n=e.handleLogin,a=e.handleLogout,r=e.handleChange,l=e.handleSignup;return o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(w,Object.assign({handleLogout:a,state:t},e))}}),o.a.createElement(p.a,{exact:!0,path:"/login",render:function(e){return o.a.createElement(f,Object.assign({handleLogin:n,handleChange:r,state:t},e))}}),o.a.createElement(p.a,{exact:!0,path:"/signup",render:function(e){return o.a.createElement(E,Object.assign({handleSignup:l,handleChange:r,state:t},e))}}),o.a.createElement(p.a,{path:"*",component:S}))},L=n(61),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleLogin=function(t){t.preventDefault(),O(e.state.user,e.props.history)},e.handleSignup=function(t){t.preventDefault(),console.log("Signing up....."),C(e.state.user,e.props.history)},e.handleLogout=function(){j(e.props.history)},e.handleChange=function(t){var n=e.state.user;n[t.target.name]=t.target.files?t.target.files[0]:t.target.value,e.setState({user:n})},e.handleRedirect=function(){e.props.history.push("/login")},e.state={user:{username:"",email:"",loggedIn:!1}},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(k,{state:this.state,handleLogin:this.handleLogin,handleLogout:this.handleLogout,handleSignup:this.handleSignup,handleChange:this.handleChange}))}}]),t}(a.Component),I=Object(L.a)(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=n(59);l.a.render(o.a.createElement(function(){return o.a.createElement(x.a,null,o.a.createElement(I,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.7378191f.chunk.js.map